---
title: "Forest Fire Exploratory Analysis"
author: "Group 1: Andrew Wong, Daniel Miau, Kyle Tsang, Ibrahim Yusuf"
date: "11/13/2020"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(knitr)
library(dplyr)
library(ggplot2)


fires <- read.csv("./data/California_Fire_Incidents.csv")

avg_num_fires_counties <- fires %>%
  group_by(ArchiveYear, Counties) %>%
  summarize(avg_fires_county = round(mean(AcresBurned, na.rm = TRUE)))

avg_acres_burned <- fires %>%
  group_by(ArchiveYear) %>%
  summarize(avg_acres = round(mean(AcresBurned, na.rm = TRUE)))

fires <- fires %>%
  mutate(
    Extinguished = substr(Extinguished, 1, 10),
    Started = substr(Started, 1, 10)
  ) %>%
  mutate(
    Extinguished = as.Date(Extinguished, "%Y-%m-%d"),
    Started = as.Date(Started, "%Y-%m-%d")
  )

avg_time_contain <- fires %>%
  mutate(Date_Difference = Extinguished - Started) %>%
  filter(Date_Difference >= 0) %>%
  group_by(ArchiveYear) %>%
  summarize(avg_day_diff = round(mean(Date_Difference, na.rm = TRUE)))
```


## Introductory Paragraph

#### _Write an introductory paragraph explaining the domain/data set (feel free to borrow from the project proposal)_

Our domain of interest are the California Forest Fires. We are interested in this topic because it is very relevant to current events. While many of our group members experienced the result of the fires from Seattle, one of our teammates Andrew Wong actually lived 30 minutes away from his house. Our project topic of forest fires also relates to the overarching conversation around climate change and fossil fuel usage. As the nationwide forest fires continue to rage, we hope to find patterns not only in the impact of these fires, but also in their causes.


Our [data set](https://www.kaggle.com/ananthu017/california-wildfire-incidents-20132020) is forest fire information collected by the California Department of Forestry and Fire Protection and sourced on Kaggle.com. There are 1637 observations/rows in this data set, and 40 features/columns in this data set. The data set can answer questions such as the size of the fires, the locations (counties, latitude, etc.) of the fires, as well as the lives taken and monetary damage caused by the fires.

## Summary Information

#### _Write a summary paragraph that includes information calculated by your summary information function_

By parsing the information in our data set, we found there to be a total of 1,636 fires in California spanning the years of 2013-2019. The data set provided 40 unique features of each fire (not every feature pertained to each fire). To get a more closer look we found there to be 59 individual counties that had fire information. The largest fire within our data set was a ranch fire at the Mendocino Complex. We also pursued more in-depth information in our aggregate table.

## Aggregate Table Rendering


```{r aggregate_table, echo = F}
Year <- avg_num_fires_counties$ArchiveYear
County <- avg_num_fires_counties$Counties
AverageNumberOfFires <- avg_num_fires_counties$avg_fires_county

df <- data.frame(Year = Year, County = County, AverageNumberOfFires = AverageNumberOfFires)

kable(df)

```



## Charts and Chart Purposes

#### Chart 1: Average Acres Burned Each Year

```{r chart_1, echo = F}
ggplot(data = avg_acres_burned) +
  geom_line(mapping = aes(x = ArchiveYear, y = avg_acres)) + 
  labs(
    title = "Average Acres Burned Each Year",
    x = "Year",
    y = "Average Acres"
  )
```

This line chart was intended to show the relationship between years and the average acres burned across California. The most pertinent observation was that as time has elapsed, the average number of acres burned increases as well. In short, this means that on average, the number of acres burned across California has increased every year.

#### Chart 2: 

```{r chart_2, echo = F}
ggplot(data = total_num_fires) + 
  geom_col(mapping = aes(x = ArchiveYear, y = total_num_per_year)) +
  labs(
    title = "Total Number of Fires Each Year",
    x = "Year",
    y = "Number of Fires"
  )
```

----
